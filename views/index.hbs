<div class="row">
	<div class="col-7">
		<form action="/filter" method="get">
			<div class="form-group">
				<select class="form-select" name="categoryId" id="categoryId" onchange="this.form.submit()">
					{{!-- <option value="" selected disabled>類別</option> --}}
					{{#each categoryData}}
						<option value="{{ this._id }}" {{#if this.isSelected }}selected{{/if}} {{#if this.isDisabled }}disabled{{/if}}>{{ this.name }}</option>
					{{/each}}
				</select>
			</div>
		</form>
	</div>
</div>
<div class="row mt-3 mb-3">
	<div class="col-7">
		<h4>總金額：</h4>
		<div class="d-flex justify-content-end">
			<p style="font-size:400%; color:red; font-weight:bold">{{ totalAmount }}</p>
		</div>
	</div>
</div>
<div class="row">
	<ul class="list-group" id="listGroup">
		{{#each recordData}}
			<li class="list-group-item">
				<div class="row d-flex justify-content-between">
					<div class="col-7 d-flex">
						<div class="col-2 d-flex align-items-center">
							<i class="{{ this.categoryId.icon }} fa-4x" style="color: #008080;"></i>
						</div>
						<div class="col-6">
							<h3>{{ this.name }}</h3>
							<p class="mb-0">{{ this.date }}</p>
						</div>
						<div class="ms-auto col-auto d-flex align-items-center">
							<h3 class="me-3">{{ this.amount }}</h3>
						</div>
					</div>
					<div class="col-auto d-flex align-items-center me-4">
						<a class="btn btn-success me-4" href="./expenses/{{ this._id }}/edit">修改</a>
						<form action="./expenses/{{ this._id }}?_method=DELETE" method="POST" style="display: inline;">
							<button class="btn btn-danger" type="submit" onclick="return confirm('Sure to delete?')">刪除</button>
						</form>
					</div>
				</div>
			</li>
		{{/each}}
	</ul>
</div>
<div class="row">
	<div class="col-7">
		<div class="mt-3 mb-3 d-grid gap-2 col-6 mx-auto">
			<a href="/expenses/new" class="btn btn-primary">新增支出</a>
		</div>
	</div>
</div>

